#include <string>
using namespace std;

class Solution 
{
private:
    string t;
    int helper(int l, int r, int ans = 0)
    {
        while(r < t.size() && l >= 0)
        {
            if(t[l--] == t[r++]) ans++;
            else continue;
        }
        return ans;
    }
public:
    int countSubstrings(string s) 
    {
        int ans = 0;
        t = s;
        int n = t.size(); // Get the size of the string
        for(int i = 0; i < n; i++)
        {
            ans += helper(i,i);
            if(i < n - 1) // Check if there's enough space for i+1
                ans += helper(i,i+1); 
        }
        return ans;
    }
};
